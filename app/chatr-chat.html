<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/firebase-element/firebase-login.html">
<link rel="import" href="bower_components/pvc-globals/pvc-globals.html"/>

<polymer-element name="chatr-chat" attributes="">

  <template>

    <style>
      :host {
        display: block;
      }
    </style>

    <firebase-element id="base" location="https://chatr-polymer.firebaseio.com/messages" data="{{messages}}" keys="{{keys}}"></firebase-element>

    <pvc-globals values="{{globals}}"></pvc-globals>

    <div fit layout vertical>
      <div flex self-end?="{{globals.ownClass}}">
        <template repeat="{{key in keys}}">
          <chatr-message message="{{messages[key].message}}" time="{{messages[key].timestamp}}" fullname="{{messages[key].user.fullname}}" avatar="{{messages[key].user.avatar}}"></chatr-message>
        </template>
      </div>
      <div>
        <chatr-message-form></chatr-message-form>
      </div>
    </div>

  </template>

  <script>

    (function () {

      Polymer({

      });

    })();

  </script>

</polymer-element>
