<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/pvc-globals/pvc-globals.html"/>

<polymer-element name="chatr-message" attributes="avatar fullname message time">

  <template>

    <style>
      :host {
        color: #212121;
        font-size: 1em;
        margin: 2em;

        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-flex-flow: row;
        -ms-flex-flow: row;
        flex-flow: row;
        -webkit-align-items: flex-end;
        -ms-flex-align: end;
        align-items: flex-end;
        -webkit-justify-content: flex-start;
        -ms-flex-pack: start;
        justify-content: flex-start;
      }
    </style>

    <pvc-globals values="{{globals}}"></pvc-globals>

    <div class="message" id="mess" layout horizontal>
      <chatr-user-avatar avatar="{{avatar}}"></chatr-user-avatar>
      <chatr-user-message text="{{message}}" time="{{time}}" fullname="{{fullname}}"></chatr-user-message>
    </div>

  </template>

  <script>

  (function () {
    'use strict';

    Polymer({

      ready: function() {
        if (this.globals.ownClass != undefined) {
          this.$.mess.classList.add(this.globals.ownClass);
          this.$.mess.setAttribute("reverse", true);
        }
      }

    });

  })();

  </script>

</polymer-element>
