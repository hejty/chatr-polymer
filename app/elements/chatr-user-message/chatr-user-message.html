<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/elapsed-time/elapsed-time.html">

<polymer-element name="chatr-user-message" attributes="fullname text time">

  <template>

    <style>
      :host {
        display: inline-block;
      }

      .text {
        background: #edeef2;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-border-bottom-left-radius: 0;
        -moz-border-radius-bottomleft: 0;
        border-bottom-left-radius: 0;
        min-width: 15em;
        line-height: 0.5em;
        padding: 1em;
        position: relative;
      }

      .text:before {
        background: url(corner-1.png) 0 0 no-repeat;
        bottom: 0;
        content: "";
        height: 15px;
        left: -13px;
        position: absolute;
        width: 13px;
      }

      .time {
        color: #b4b5b8;
        font-size: 0.875em;
        right: 15px;
        top: 1em;
        position: absolute;
      }

      h3 {
        color: #17b6a7;
        font-size: 1em;
        font-weight: 600;
      }

      .own .text {
        background-color: #2f2b48;
        -webkit-border-radius: 10px;
        -webkit-border-bottom-right-radius: 0;
        -moz-border-radius: 10px;
        -moz-border-radius-bottomright: 0;
        border-radius: 10px;
        border-bottom-right-radius: 0;
        -webkit-order: 1;
        -ms-flex-order: 1;
        color: #fff;
        margin-left: 77px;
        margin-right: 0;
        order: 1;
      }

      .own .text:after {
        background: url(corner-2.png) 0 0 no-repeat;
        bottom: 0;
        content: "";
        height: 16px;
        position: absolute;
        right: -13px;
        width: 13px;
      }

      .own .text:before {
        background: none;
      }

      .own .avatar {
        margin-left: 15px;
        margin-right: 0;
        -webkit-order: 2;
        -ms-flex-order: 2;
        order: 2;
      }
    </style>

    <div class="text">
      <span class="time"><elapsed-time date="{{time}}"></elapsed-time></span>
      <h3>{{fullname}}</h3>
      <p>{{text}}</p>
    </div>

  </template>

  <script>

    (function () {
      'use strict';

      Polymer({

      });

    })();

  </script>

</polymer-element>
